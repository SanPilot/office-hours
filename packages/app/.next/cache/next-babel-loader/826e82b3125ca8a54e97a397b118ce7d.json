{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { CreateAlertResponse, CreateQuestionResponse, DesktopNotifPartial, GetCourseOverridesResponse, GetCourseResponse, GetProfileResponse, GetQuestionResponse, GetQueueResponse, ListQuestionsResponse, UpdateCourseOverrideResponse, UpdateQuestionResponse } from \"@koh/common\";\nimport Axios from \"axios\";\nimport { plainToClass } from \"class-transformer\";\n\nvar APIClient = /*#__PURE__*/function () {\n  _createClass(APIClient, [{\n    key: \"req\",\n    value: function () {\n      var _req = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(method, url, responseClass, body) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.axios.request({\n                  method: method,\n                  url: url,\n                  data: body\n                });\n\n              case 2:\n                res = _context.sent.data;\n                return _context.abrupt(\"return\", responseClass ? plainToClass(responseClass, res) : res);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function req(_x, _x2, _x3, _x4) {\n        return _req.apply(this, arguments);\n      }\n\n      return req;\n    }()\n  }]);\n\n  function APIClient() {\n    var _this = this;\n\n    var baseURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n\n    _classCallCheck(this, APIClient);\n\n    this.axios = void 0;\n    this.profile = {\n      index: function () {\n        var _index = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  return _context2.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/profile\", GetProfileResponse));\n\n                case 1:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        function index() {\n          return _index.apply(this, arguments);\n        }\n\n        return index;\n      }(),\n      patch: function () {\n        var _patch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(body) {\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  return _context3.abrupt(\"return\", _this.req(\"PATCH\", \"/api/v1/profile\", undefined, body));\n\n                case 1:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        function patch(_x5) {\n          return _patch.apply(this, arguments);\n        }\n\n        return patch;\n      }(),\n      deleteProfilePicture: function () {\n        var _deleteProfilePicture = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  return _context4.abrupt(\"return\", _this.req(\"DELETE\", \"/api/v1/profile/delete_profile_picture\"));\n\n                case 1:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        }));\n\n        function deleteProfilePicture() {\n          return _deleteProfilePicture.apply(this, arguments);\n        }\n\n        return deleteProfilePicture;\n      }()\n    };\n    this.course = {\n      get: function () {\n        var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(courseId) {\n          return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  return _context5.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/courses/\".concat(courseId), GetCourseResponse));\n\n                case 1:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        function get(_x6) {\n          return _get.apply(this, arguments);\n        }\n\n        return get;\n      }(),\n      updateCalendar: function () {\n        var _updateCalendar = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(courseId) {\n          return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  return _context6.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/courses/\".concat(courseId, \"/update_calendar\")));\n\n                case 1:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6);\n        }));\n\n        function updateCalendar(_x7) {\n          return _updateCalendar.apply(this, arguments);\n        }\n\n        return updateCalendar;\n      }(),\n      getCourseOverrides: function () {\n        var _getCourseOverrides = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(courseId) {\n          return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n            while (1) {\n              switch (_context7.prev = _context7.next) {\n                case 0:\n                  return _context7.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/courses/\".concat(courseId, \"/course_override\"), GetCourseOverridesResponse));\n\n                case 1:\n                case \"end\":\n                  return _context7.stop();\n              }\n            }\n          }, _callee7);\n        }));\n\n        function getCourseOverrides(_x8) {\n          return _getCourseOverrides.apply(this, arguments);\n        }\n\n        return getCourseOverrides;\n      }(),\n      addOverride: function () {\n        var _addOverride = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(courseId, params) {\n          return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  return _context8.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/courses/\".concat(courseId, \"/update_override\"), UpdateCourseOverrideResponse, params));\n\n                case 1:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee8);\n        }));\n\n        function addOverride(_x9, _x10) {\n          return _addOverride.apply(this, arguments);\n        }\n\n        return addOverride;\n      }(),\n      deleteOverride: function () {\n        var _deleteOverride = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(courseId, params) {\n          return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  return _context9.abrupt(\"return\", _this.req(\"DELETE\", \"/api/v1/courses/\".concat(courseId, \"/update_override\"), undefined, params));\n\n                case 1:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee9);\n        }));\n\n        function deleteOverride(_x11, _x12) {\n          return _deleteOverride.apply(this, arguments);\n        }\n\n        return deleteOverride;\n      }()\n    };\n    this.taStatus = {\n      checkIn: function () {\n        var _checkIn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(courseId, room) {\n          return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  return _context10.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/courses/\".concat(courseId, \"/ta_location/\").concat(room)));\n\n                case 1:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10);\n        }));\n\n        function checkIn(_x13, _x14) {\n          return _checkIn.apply(this, arguments);\n        }\n\n        return checkIn;\n      }(),\n      checkOut: function () {\n        var _checkOut = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(courseId, room) {\n          return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n            while (1) {\n              switch (_context11.prev = _context11.next) {\n                case 0:\n                  return _context11.abrupt(\"return\", _this.req(\"DELETE\", \"/api/v1/courses/\".concat(courseId, \"/ta_location/\").concat(room)));\n\n                case 1:\n                case \"end\":\n                  return _context11.stop();\n              }\n            }\n          }, _callee11);\n        }));\n\n        function checkOut(_x15, _x16) {\n          return _checkOut.apply(this, arguments);\n        }\n\n        return checkOut;\n      }()\n    };\n    this.questions = {\n      index: function () {\n        var _index2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(queueId) {\n          return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n            while (1) {\n              switch (_context12.prev = _context12.next) {\n                case 0:\n                  return _context12.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/queues/\".concat(queueId, \"/questions\"), ListQuestionsResponse));\n\n                case 1:\n                case \"end\":\n                  return _context12.stop();\n              }\n            }\n          }, _callee12);\n        }));\n\n        function index(_x17) {\n          return _index2.apply(this, arguments);\n        }\n\n        return index;\n      }(),\n      create: function () {\n        var _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(params) {\n          return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n            while (1) {\n              switch (_context13.prev = _context13.next) {\n                case 0:\n                  return _context13.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/questions\", CreateQuestionResponse, params));\n\n                case 1:\n                case \"end\":\n                  return _context13.stop();\n              }\n            }\n          }, _callee13);\n        }));\n\n        function create(_x18) {\n          return _create.apply(this, arguments);\n        }\n\n        return create;\n      }(),\n      get: function () {\n        var _get2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(questionId) {\n          return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n            while (1) {\n              switch (_context14.prev = _context14.next) {\n                case 0:\n                  return _context14.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/questions/\".concat(questionId), GetQuestionResponse));\n\n                case 1:\n                case \"end\":\n                  return _context14.stop();\n              }\n            }\n          }, _callee14);\n        }));\n\n        function get(_x19) {\n          return _get2.apply(this, arguments);\n        }\n\n        return get;\n      }(),\n      update: function () {\n        var _update = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(questionId, params) {\n          return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n            while (1) {\n              switch (_context15.prev = _context15.next) {\n                case 0:\n                  return _context15.abrupt(\"return\", _this.req(\"PATCH\", \"/api/v1/questions/\".concat(questionId), UpdateQuestionResponse, params));\n\n                case 1:\n                case \"end\":\n                  return _context15.stop();\n              }\n            }\n          }, _callee15);\n        }));\n\n        function update(_x20, _x21) {\n          return _update.apply(this, arguments);\n        }\n\n        return update;\n      }(),\n      notify: function () {\n        var _notify = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(questionId) {\n          return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n            while (1) {\n              switch (_context16.prev = _context16.next) {\n                case 0:\n                  return _context16.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/questions/\".concat(questionId, \"/notify\")));\n\n                case 1:\n                case \"end\":\n                  return _context16.stop();\n              }\n            }\n          }, _callee16);\n        }));\n\n        function notify(_x22) {\n          return _notify.apply(this, arguments);\n        }\n\n        return notify;\n      }()\n    };\n    this.queues = {\n      get: function () {\n        var _get3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(queueId) {\n          return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n            while (1) {\n              switch (_context17.prev = _context17.next) {\n                case 0:\n                  return _context17.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/queues/\".concat(queueId), GetQueueResponse));\n\n                case 1:\n                case \"end\":\n                  return _context17.stop();\n              }\n            }\n          }, _callee17);\n        }));\n\n        function get(_x23) {\n          return _get3.apply(this, arguments);\n        }\n\n        return get;\n      }(),\n      update: function () {\n        var _update2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18(queueId, params) {\n          return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n            while (1) {\n              switch (_context18.prev = _context18.next) {\n                case 0:\n                  return _context18.abrupt(\"return\", _this.req(\"PATCH\", \"/api/v1/queues/\".concat(queueId), UpdateQuestionResponse, params));\n\n                case 1:\n                case \"end\":\n                  return _context18.stop();\n              }\n            }\n          }, _callee18);\n        }));\n\n        function update(_x24, _x25) {\n          return _update2.apply(this, arguments);\n        }\n\n        return update;\n      }(),\n      clean: function () {\n        var _clean = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19(queueId) {\n          return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n            while (1) {\n              switch (_context19.prev = _context19.next) {\n                case 0:\n                  return _context19.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/queues/\".concat(queueId, \"/clean\")));\n\n                case 1:\n                case \"end\":\n                  return _context19.stop();\n              }\n            }\n          }, _callee19);\n        }));\n\n        function clean(_x26) {\n          return _clean.apply(this, arguments);\n        }\n\n        return clean;\n      }()\n    };\n    this.notif = {\n      desktop: {\n        credentials: function () {\n          var _credentials = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20() {\n            return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n              while (1) {\n                switch (_context20.prev = _context20.next) {\n                  case 0:\n                    return _context20.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/notifications/desktop/credentials\"));\n\n                  case 1:\n                  case \"end\":\n                    return _context20.stop();\n                }\n              }\n            }, _callee20);\n          }));\n\n          function credentials() {\n            return _credentials.apply(this, arguments);\n          }\n\n          return credentials;\n        }(),\n        register: function () {\n          var _register = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21(payload) {\n            return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n              while (1) {\n                switch (_context21.prev = _context21.next) {\n                  case 0:\n                    return _context21.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/notifications/desktop/device\", DesktopNotifPartial, payload));\n\n                  case 1:\n                  case \"end\":\n                    return _context21.stop();\n                }\n              }\n            }, _callee21);\n          }));\n\n          function register(_x27) {\n            return _register.apply(this, arguments);\n          }\n\n          return register;\n        }(),\n        unregister: function () {\n          var _unregister = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22(deviceId) {\n            return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n              while (1) {\n                switch (_context22.prev = _context22.next) {\n                  case 0:\n                    return _context22.abrupt(\"return\", _this.req(\"DELETE\", \"/api/v1/notifications/desktop/device/\".concat(deviceId), undefined));\n\n                  case 1:\n                  case \"end\":\n                    return _context22.stop();\n                }\n              }\n            }, _callee22);\n          }));\n\n          function unregister(_x28) {\n            return _unregister.apply(this, arguments);\n          }\n\n          return unregister;\n        }()\n      }\n    };\n    this.seeds = {\n      \"delete\": function () {\n        var _delete2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23() {\n          return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n            while (1) {\n              switch (_context23.prev = _context23.next) {\n                case 0:\n                  return _context23.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/seeds/delete\"));\n\n                case 1:\n                case \"end\":\n                  return _context23.stop();\n              }\n            }\n          }, _callee23);\n        }));\n\n        function _delete() {\n          return _delete2.apply(this, arguments);\n        }\n\n        return _delete;\n      }(),\n      create: function () {\n        var _create2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee24() {\n          return _regeneratorRuntime.wrap(function _callee24$(_context24) {\n            while (1) {\n              switch (_context24.prev = _context24.next) {\n                case 0:\n                  return _context24.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/seeds/create\"));\n\n                case 1:\n                case \"end\":\n                  return _context24.stop();\n              }\n            }\n          }, _callee24);\n        }));\n\n        function create() {\n          return _create2.apply(this, arguments);\n        }\n\n        return create;\n      }(),\n      fillQueue: function () {\n        var _fillQueue = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee25() {\n          return _regeneratorRuntime.wrap(function _callee25$(_context25) {\n            while (1) {\n              switch (_context25.prev = _context25.next) {\n                case 0:\n                  return _context25.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/seeds/fill_queue\"));\n\n                case 1:\n                case \"end\":\n                  return _context25.stop();\n              }\n            }\n          }, _callee25);\n        }));\n\n        function fillQueue() {\n          return _fillQueue.apply(this, arguments);\n        }\n\n        return fillQueue;\n      }()\n    };\n    this.releaseNotes = {\n      get: function () {\n        var _get4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee26() {\n          return _regeneratorRuntime.wrap(function _callee26$(_context26) {\n            while (1) {\n              switch (_context26.prev = _context26.next) {\n                case 0:\n                  return _context26.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/release_notes\"));\n\n                case 1:\n                case \"end\":\n                  return _context26.stop();\n              }\n            }\n          }, _callee26);\n        }));\n\n        function get() {\n          return _get4.apply(this, arguments);\n        }\n\n        return get;\n      }()\n    };\n    this.alerts = {\n      get: function () {\n        var _get5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee27(courseId) {\n          return _regeneratorRuntime.wrap(function _callee27$(_context27) {\n            while (1) {\n              switch (_context27.prev = _context27.next) {\n                case 0:\n                  return _context27.abrupt(\"return\", _this.req(\"GET\", \"/api/v1/alerts/\".concat(courseId)));\n\n                case 1:\n                case \"end\":\n                  return _context27.stop();\n              }\n            }\n          }, _callee27);\n        }));\n\n        function get(_x29) {\n          return _get5.apply(this, arguments);\n        }\n\n        return get;\n      }(),\n      create: function () {\n        var _create3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee28(params) {\n          return _regeneratorRuntime.wrap(function _callee28$(_context28) {\n            while (1) {\n              switch (_context28.prev = _context28.next) {\n                case 0:\n                  return _context28.abrupt(\"return\", _this.req(\"POST\", \"/api/v1/alerts\", CreateAlertResponse, params));\n\n                case 1:\n                case \"end\":\n                  return _context28.stop();\n              }\n            }\n          }, _callee28);\n        }));\n\n        function create(_x30) {\n          return _create3.apply(this, arguments);\n        }\n\n        return create;\n      }(),\n      close: function () {\n        var _close = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee29(alertId) {\n          return _regeneratorRuntime.wrap(function _callee29$(_context29) {\n            while (1) {\n              switch (_context29.prev = _context29.next) {\n                case 0:\n                  _this.req(\"PATCH\", \"/api/v1/alerts/\".concat(alertId));\n\n                case 1:\n                case \"end\":\n                  return _context29.stop();\n              }\n            }\n          }, _callee29);\n        }));\n\n        function close(_x31) {\n          return _close.apply(this, arguments);\n        }\n\n        return close;\n      }()\n    };\n    this.axios = Axios.create({\n      baseURL: baseURL\n    });\n  }\n\n  return APIClient;\n}();\n\nexport var API = new APIClient(process.env.NEXT_PUBLIC_API_URL);","map":{"version":3,"sources":["/home/runner/work/office-hours/office-hours/node_modules/@koh/api-client/index.ts"],"names":["CreateAlertResponse","CreateQuestionResponse","DesktopNotifPartial","GetCourseOverridesResponse","GetCourseResponse","GetProfileResponse","GetQuestionResponse","GetQueueResponse","ListQuestionsResponse","UpdateCourseOverrideResponse","UpdateQuestionResponse","Axios","plainToClass","APIClient","method","url","responseClass","body","axios","request","data","res","baseURL","profile","index","req","patch","undefined","deleteProfilePicture","course","get","courseId","updateCalendar","getCourseOverrides","addOverride","params","deleteOverride","taStatus","checkIn","room","checkOut","questions","queueId","create","questionId","update","notify","queues","clean","notif","desktop","credentials","register","payload","unregister","deviceId","seeds","fillQueue","releaseNotes","alerts","close","alertId","API","process","env","NEXT_PUBLIC_API_URL"],"mappings":"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","sourcesContent":["import {\n  CreateAlertParams,\n  CreateAlertResponse,\n  CreateQuestionParams,\n  CreateQuestionResponse,\n  DesktopNotifBody,\n  DesktopNotifPartial,\n  GetAlertsResponse,\n  GetCourseOverridesResponse,\n  GetCourseResponse,\n  GetProfileResponse,\n  GetQuestionResponse,\n  GetQueueResponse,\n  GetReleaseNotesResponse,\n  ListQuestionsResponse,\n  TACheckoutResponse,\n  TAUpdateStatusResponse,\n  UpdateCourseOverrideBody,\n  UpdateCourseOverrideResponse,\n  UpdateProfileParams,\n  UpdateQuestionParams,\n  UpdateQuestionResponse,\n  UpdateQueueParams,\n} from \"@koh/common\";\nimport Axios, { AxiosInstance, Method } from \"axios\";\nimport { plainToClass } from \"class-transformer\";\nimport { ClassType } from \"class-transformer/ClassTransformer\";\n\n// Return type of array item, if T is an array\ntype ItemIfArray<T> = T extends (infer I)[] ? I : T;\n\nclass APIClient {\n  private axios: AxiosInstance;\n\n  /**\n   * Send HTTP and return data, optionally serialized with class-transformer (helpful for Date serialization)\n   * @param method HTTP method\n   * @param url URL to send req to\n   * @param responseClass Class with class-transformer decorators to serialize response to\n   * @param body body to send with req\n   */\n  private async req<T>(\n    method: Method,\n    url: string,\n    responseClass?: ClassType<ItemIfArray<T>>,\n    body?: any\n  ): Promise<T>;\n  private async req<T>(\n    method: Method,\n    url: string,\n    responseClass?: ClassType<T>,\n    body?: any\n  ): Promise<T> {\n    const res = (await this.axios.request({ method, url, data: body })).data;\n    return responseClass ? plainToClass(responseClass, res) : res;\n  }\n\n  profile = {\n    index: async (): Promise<GetProfileResponse> =>\n      this.req(\"GET\", `/api/v1/profile`, GetProfileResponse),\n    patch: async (body: UpdateProfileParams): Promise<GetProfileResponse> =>\n      this.req(\"PATCH\", `/api/v1/profile`, undefined, body),\n    deleteProfilePicture: async (): Promise<void> =>\n      this.req(\"DELETE\", `/api/v1/profile/delete_profile_picture`),\n  };\n  course = {\n    get: async (courseId: number) =>\n      this.req(\"GET\", `/api/v1/courses/${courseId}`, GetCourseResponse),\n    updateCalendar: async (courseId: number) =>\n      this.req(\"POST\", `/api/v1/courses/${courseId}/update_calendar`),\n    getCourseOverrides: async (courseId: number) =>\n      this.req(\n        \"GET\",\n        `/api/v1/courses/${courseId}/course_override`,\n        GetCourseOverridesResponse\n      ),\n    addOverride: async (\n      courseId: number,\n      params: UpdateCourseOverrideBody\n    ): Promise<UpdateCourseOverrideResponse> =>\n      this.req(\n        \"POST\",\n        `/api/v1/courses/${courseId}/update_override`,\n        UpdateCourseOverrideResponse,\n        params\n      ),\n    deleteOverride: async (\n      courseId: number,\n      params: UpdateCourseOverrideBody\n    ): Promise<void> =>\n      this.req(\n        \"DELETE\",\n        `/api/v1/courses/${courseId}/update_override`,\n        undefined,\n        params\n      ),\n  };\n  taStatus = {\n    checkIn: async (\n      courseId: number,\n      room: string\n    ): Promise<TAUpdateStatusResponse> =>\n      this.req(\"POST\", `/api/v1/courses/${courseId}/ta_location/${room}`),\n    checkOut: async (\n      courseId: number,\n      room: string\n    ): Promise<TACheckoutResponse> =>\n      this.req(\"DELETE\", `/api/v1/courses/${courseId}/ta_location/${room}`),\n  };\n  questions = {\n    index: async (queueId: number) =>\n      this.req<ListQuestionsResponse>(\n        \"GET\",\n        `/api/v1/queues/${queueId}/questions`,\n        ListQuestionsResponse\n      ),\n    create: async (params: CreateQuestionParams) =>\n      this.req(\"POST\", `/api/v1/questions`, CreateQuestionResponse, params),\n    get: async (questionId: number): Promise<GetQuestionResponse> =>\n      this.req(\"GET\", `/api/v1/questions/${questionId}`, GetQuestionResponse),\n    update: async (questionId: number, params: UpdateQuestionParams) =>\n      this.req(\n        \"PATCH\",\n        `/api/v1/questions/${questionId}`,\n        UpdateQuestionResponse,\n        params\n      ),\n    notify: async (questionId: number): Promise<void> =>\n      this.req(\"POST\", `/api/v1/questions/${questionId}/notify`),\n  };\n  queues = {\n    get: async (queueId: number): Promise<GetQueueResponse> =>\n      this.req(\"GET\", `/api/v1/queues/${queueId}`, GetQueueResponse),\n    update: async (queueId: number, params: UpdateQueueParams) =>\n      this.req(\n        \"PATCH\",\n        `/api/v1/queues/${queueId}`,\n        UpdateQuestionResponse,\n        params\n      ),\n    clean: async (queueId: number): Promise<void> =>\n      this.req(\"POST\", `/api/v1/queues/${queueId}/clean`),\n  };\n  notif = {\n    desktop: {\n      credentials: async (): Promise<string> =>\n        this.req(\"GET\", \"/api/v1/notifications/desktop/credentials\"),\n      register: async (\n        payload: DesktopNotifBody\n      ): Promise<DesktopNotifPartial> =>\n        this.req(\n          \"POST\",\n          `/api/v1/notifications/desktop/device`,\n          DesktopNotifPartial,\n          payload\n        ),\n      unregister: async (deviceId: number): Promise<string> =>\n        this.req(\n          \"DELETE\",\n          `/api/v1/notifications/desktop/device/${deviceId}`,\n          undefined\n        ),\n    },\n  };\n  seeds = {\n    delete: async () => this.req(\"GET\", `/api/v1/seeds/delete`),\n    create: async () => this.req(\"GET\", `/api/v1/seeds/create`),\n    fillQueue: async () => this.req(\"GET\", `/api/v1/seeds/fill_queue`),\n  };\n  releaseNotes = {\n    get: async (): Promise<GetReleaseNotesResponse> =>\n      this.req(\"GET\", `/api/v1/release_notes`),\n  };\n  alerts = {\n    get: async (courseId: number): Promise<GetAlertsResponse> =>\n      this.req(\"GET\", `/api/v1/alerts/${courseId}`),\n    create: async (params: CreateAlertParams): Promise<CreateAlertResponse> =>\n      this.req(\"POST\", `/api/v1/alerts`, CreateAlertResponse, params),\n    close: async (alertId: number): Promise<void> => {\n      this.req(\"PATCH\", `/api/v1/alerts/${alertId}`);\n    },\n  };\n\n  constructor(baseURL = \"\") {\n    this.axios = Axios.create({ baseURL: baseURL });\n  }\n}\n\nexport const API = new APIClient(process.env.NEXT_PUBLIC_API_URL);\n"]},"metadata":{},"sourceType":"module"}