{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport styled from \"styled-components\";\nimport React, { useState } from \"react\";\nimport NavBarTabs from \"./NavBarTabs\";\nimport { Drawer, Button, Menu, Dropdown } from \"antd\";\nimport Link from \"next/link\";\nimport Settings from \".//Settings\";\nimport { useRouter } from \"next/router\";\nimport { useProfile } from \"../../hooks/useProfile\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport { useCourse } from \"../../hooks/useCourse\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nvar Nav = styled.nav.withConfig({\n  displayName: \"NavBar__Nav\",\n  componentId: \"sc-1jr3ir-0\"\n})([\"padding:0px 0px;background:#fff;border-bottom:solid 1px #e8e8e8;display:flex;height:67px;@media (max-width:767px){padding:0px 16px;height:50px;}\"]);\nvar LogoContainer = styled.div.withConfig({\n  displayName: \"NavBar__LogoContainer\",\n  componentId: \"sc-1jr3ir-1\"\n})([\"display:flex;align-items:center;margin-left:64px;margin-right:48px;@media (max-width:767px){margin-left:-20px;}\"]);\nvar Logo = styled.div.withConfig({\n  displayName: \"NavBar__Logo\",\n  componentId: \"sc-1jr3ir-2\"\n})([\"font-size:20px;font-weight:500;color:#262626;text-transform:capitalize;@media (max-width:767px){padding:10px 20px;}\"]);\nvar MenuCon = styled.div.withConfig({\n  displayName: \"NavBar__MenuCon\",\n  componentId: \"sc-1jr3ir-3\"\n})([\"flex-grow:1;display:flex;align-items:center;justify-content:space-between;padding-left:0px;\"]);\nvar LeftMenu = styled.div.withConfig({\n  displayName: \"NavBar__LeftMenu\",\n  componentId: \"sc-1jr3ir-4\"\n})([\"@media (max-width:767px){display:none;}\"]);\nvar RightMenu = styled.div.withConfig({\n  displayName: \"NavBar__RightMenu\",\n  componentId: \"sc-1jr3ir-5\"\n})([\"margin-right:64px;@media (max-width:767px){display:none;}\"]);\nvar BarsMenu = styled(Button).withConfig({\n  displayName: \"NavBar__BarsMenu\",\n  componentId: \"sc-1jr3ir-6\"\n})([\"height:32px;padding:6px;margin-top:8px;display:none;background:none;@media (max-width:767px){display:inline-block;}\"]);\nvar BarsButton = styled.span.withConfig({\n  displayName: \"NavBar__BarsButton\",\n  componentId: \"sc-1jr3ir-7\"\n})([\"display:block;width:20px;height:2px;background:#1890ff;position:relative;&:after,:before{content:attr(x);width:20px;position:absolute;top:-6px;left:0;height:2px;background:#1890ff;}&:after{top:auto;bottom:-6px;}\"]);\nvar CoursesMenuItem = styled(Menu.Item).withConfig({\n  displayName: \"NavBar__CoursesMenuItem\",\n  componentId: \"sc-1jr3ir-8\"\n})([\"z-index:1;background:#ffffff;\"]);\nexport default function NavBar(_ref) {\n  var courseId = _ref.courseId;\n\n  var _useLocalStorage = useLocalStorage(\"defaultCourse\", null),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n      defaultCourse = _useLocalStorage2[0],\n      setDefaultCourse = _useLocalStorage2[1];\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var profile = useProfile();\n\n  var _useRouter = useRouter(),\n      pathname = _useRouter.pathname;\n\n  var _useCourse = useCourse(courseId),\n      course = _useCourse.course;\n\n  var queueId = (course === null || course === void 0 ? void 0 : course.queues) && course.queues.length > 0 && course.queues[0].id;\n\n  var showDrawer = function showDrawer() {\n    setVisible(true);\n  };\n\n  var onClose = function onClose() {\n    setVisible(false);\n  };\n\n  var courseSelector = __jsx(Menu, null, profile === null || profile === void 0 ? void 0 : profile.courses.map(function (c) {\n    return __jsx(CoursesMenuItem, {\n      key: c.course.id,\n      onClick: function onClick() {\n        return setDefaultCourse(c.course);\n      }\n    }, __jsx(Link, {\n      href: \"/course/[cid]/today\",\n      as: \"/course/\".concat(c.course.id, \"/today\")\n    }, __jsx(\"a\", null, c.course.name)));\n  }));\n\n  var tabs = [{\n    href: \"/course/[cid]/today\",\n    as: \"/course/\".concat(courseId, \"/today\"),\n    text: \"Today\"\n  }, {\n    href: \"/course/[cid]/schedule\",\n    as: \"/course/\".concat(courseId, \"/schedule\"),\n    text: \"Schedule\"\n  }];\n\n  if (queueId) {\n    tabs.push({\n      href: \"/course/[cid]/queue/[qid]\",\n      as: \"/course/\".concat(courseId, \"/queue/\").concat(queueId),\n      text: \"Queue\"\n    });\n  }\n\n  return __jsx(Nav, null, __jsx(LogoContainer, null, (profile === null || profile === void 0 ? void 0 : profile.courses.length) > 1 ? __jsx(Dropdown, {\n    overlay: courseSelector,\n    trigger: [\"click\"],\n    placement: \"bottomLeft\"\n  }, __jsx(\"a\", null, __jsx(Logo, null, __jsx(\"span\", null, course === null || course === void 0 ? void 0 : course.name), __jsx(DownOutlined, {\n    style: {\n      fontSize: \"16px\",\n      verticalAlign: \"-0.125em\",\n      marginLeft: \"5px\"\n    }\n  })))) : __jsx(Logo, null, __jsx(\"span\", null, course === null || course === void 0 ? void 0 : course.name))), __jsx(MenuCon, null, __jsx(LeftMenu, null, __jsx(NavBarTabs, {\n    horizontal: true,\n    currentHref: pathname,\n    tabs: tabs\n  })), __jsx(RightMenu, null, __jsx(Settings, null))), __jsx(BarsMenu, {\n    type: \"primary\",\n    onClick: showDrawer\n  }, __jsx(BarsButton, null)), __jsx(Drawer, {\n    title: \"Course\",\n    placement: \"right\",\n    visible: visible,\n    closable: false,\n    onClose: onClose,\n    bodyStyle: {\n      padding: \"12px\"\n    }\n  }, __jsx(NavBarTabs, {\n    currentHref: pathname,\n    tabs: tabs\n  }), __jsx(Settings, null)));\n}","map":{"version":3,"sources":["/home/runner/work/office-hours/office-hours/packages/app/components/Nav/NavBar.tsx"],"names":["styled","React","useState","NavBarTabs","Drawer","Button","Menu","Dropdown","Link","Settings","useRouter","useProfile","DownOutlined","useCourse","useLocalStorage","Nav","nav","LogoContainer","div","Logo","MenuCon","LeftMenu","RightMenu","BarsMenu","BarsButton","span","CoursesMenuItem","Item","NavBar","courseId","defaultCourse","setDefaultCourse","visible","setVisible","profile","pathname","course","queueId","queues","length","id","showDrawer","onClose","courseSelector","courses","map","c","name","tabs","href","as","text","push","fontSize","verticalAlign","marginLeft","padding"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport React, { useState, ReactElement } from \"react\";\nimport NavBarTabs, { NavBarTabsItem } from \"./NavBarTabs\";\nimport { Drawer, Button, Menu, Dropdown } from \"antd\";\nimport Link from \"next/link\";\nimport Settings from \".//Settings\";\nimport { useRouter } from \"next/router\";\nimport { useProfile } from \"../../hooks/useProfile\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport { useCourse } from \"../../hooks/useCourse\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\n\nconst Nav = styled.nav`\n  padding: 0px 0px;\n  background: #fff;\n  border-bottom: solid 1px #e8e8e8;\n  display: flex;\n  height: 67px;\n\n  @media (max-width: 767px) {\n    padding: 0px 16px;\n    height: 50px;\n  }\n`;\n\nconst LogoContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-left: 64px;\n  margin-right: 48px;\n  @media (max-width: 767px) {\n    margin-left: -20px;\n  }\n`;\n\nconst Logo = styled.div`\n  font-size: 20px;\n  font-weight: 500;\n  color: #262626;\n  text-transform: capitalize;\n\n  @media (max-width: 767px) {\n    padding: 10px 20px;\n  }\n`;\n\nconst MenuCon = styled.div`\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-left: 0px;\n`;\n\nconst LeftMenu = styled.div`\n  @media (max-width: 767px) {\n    display: none;\n  }\n`;\n\nconst RightMenu = styled.div`\n  margin-right: 64px;\n  @media (max-width: 767px) {\n    display: none;\n  }\n`;\n\nconst BarsMenu = styled(Button)`\n  height: 32px;\n  padding: 6px;\n  margin-top: 8px;\n  display: none;\n  background: none;\n\n  @media (max-width: 767px) {\n    display: inline-block;\n  }\n`;\n\nconst BarsButton = styled.span`\n  display: block;\n  width: 20px;\n  height: 2px;\n  background: #1890ff;\n  position: relative;\n\n  &:after,\n  :before {\n    content: attr(x);\n    width: 20px;\n    position: absolute;\n    top: -6px;\n    left: 0;\n    height: 2px;\n    background: #1890ff;\n  }\n\n  &:after {\n    top: auto;\n    bottom: -6px;\n  }\n`;\n\nconst CoursesMenuItem = styled(Menu.Item)`\n  z-index: 1;\n  background: #ffffff;\n`;\n\ninterface NavBarProps {\n  courseId: number;\n}\n\nexport default function NavBar({ courseId }: NavBarProps): ReactElement {\n  const [defaultCourse, setDefaultCourse] = useLocalStorage(\n    \"defaultCourse\",\n    null\n  );\n  const [visible, setVisible] = useState<boolean>(false);\n  const profile = useProfile();\n  const { pathname } = useRouter();\n\n  const { course } = useCourse(courseId);\n\n  const queueId =\n    course?.queues && course.queues.length > 0 && course.queues[0].id;\n\n  const showDrawer = () => {\n    setVisible(true);\n  };\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  const courseSelector = (\n    <Menu>\n      {profile?.courses.map((c) => (\n        <CoursesMenuItem\n          key={c.course.id}\n          onClick={() => setDefaultCourse(c.course)}\n        >\n          <Link href=\"/course/[cid]/today\" as={`/course/${c.course.id}/today`}>\n            <a>{c.course.name}</a>\n          </Link>\n        </CoursesMenuItem>\n      ))}\n    </Menu>\n  );\n\n  const tabs: NavBarTabsItem[] = [\n    {\n      href: \"/course/[cid]/today\",\n      as: `/course/${courseId}/today`,\n      text: \"Today\",\n    },\n    {\n      href: \"/course/[cid]/schedule\",\n      as: `/course/${courseId}/schedule`,\n      text: \"Schedule\",\n    },\n  ];\n  if (queueId) {\n    tabs.push({\n      href: \"/course/[cid]/queue/[qid]\",\n      as: `/course/${courseId}/queue/${queueId}`,\n      text: \"Queue\",\n    });\n  }\n\n  return (\n    <Nav>\n      <LogoContainer>\n        {profile?.courses.length > 1 ? (\n          <Dropdown\n            overlay={courseSelector}\n            trigger={[\"click\"]}\n            placement=\"bottomLeft\"\n          >\n            <a>\n              <Logo>\n                <span>{course?.name}</span>\n                <DownOutlined\n                  style={{\n                    fontSize: \"16px\",\n                    verticalAlign: \"-0.125em\",\n                    marginLeft: \"5px\",\n                  }}\n                />\n              </Logo>\n            </a>\n          </Dropdown>\n        ) : (\n          <Logo>\n            <span>{course?.name}</span>\n          </Logo>\n        )}\n      </LogoContainer>\n      <MenuCon>\n        <LeftMenu>\n          <NavBarTabs horizontal currentHref={pathname} tabs={tabs} />\n        </LeftMenu>\n        <RightMenu>\n          <Settings />\n        </RightMenu>\n      </MenuCon>\n      <BarsMenu type=\"primary\" onClick={showDrawer}>\n        <BarsButton />\n      </BarsMenu>\n      <Drawer\n        title=\"Course\"\n        placement=\"right\"\n        visible={visible}\n        closable={false}\n        onClose={onClose}\n        bodyStyle={{ padding: \"12px\" }}\n      >\n        <NavBarTabs currentHref={pathname} tabs={tabs} />\n        <Settings />\n      </Drawer>\n    </Nav>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}